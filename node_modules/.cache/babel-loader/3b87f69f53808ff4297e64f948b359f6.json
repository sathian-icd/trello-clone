{"ast":null,"code":"'use strict';\n\nvar randomFromSeed = require('./random/random-from-seed');\n\nvar ORIGINAL = '0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_-';\nvar alphabet;\nvar previousSeed;\nvar shuffled;\n\nfunction reset() {\n  shuffled = false;\n}\n\nfunction setCharacters(_alphabet_) {\n  if (!_alphabet_) {\n    if (alphabet !== ORIGINAL) {\n      alphabet = ORIGINAL;\n      reset();\n    }\n\n    return;\n  }\n\n  if (_alphabet_ === alphabet) {\n    return;\n  }\n\n  if (_alphabet_.length !== ORIGINAL.length) {\n    throw new Error('Custom alphabet for shortid must be ' + ORIGINAL.length + ' unique characters. You submitted ' + _alphabet_.length + ' characters: ' + _alphabet_);\n  }\n\n  var unique = _alphabet_.split('').filter(function (item, ind, arr) {\n    return ind !== arr.lastIndexOf(item);\n  });\n\n  if (unique.length) {\n    throw new Error('Custom alphabet for shortid must be ' + ORIGINAL.length + ' unique characters. These characters were not unique: ' + unique.join(', '));\n  }\n\n  alphabet = _alphabet_;\n  reset();\n}\n\nfunction characters(_alphabet_) {\n  setCharacters(_alphabet_);\n  return alphabet;\n}\n\nfunction setSeed(seed) {\n  randomFromSeed.seed(seed);\n\n  if (previousSeed !== seed) {\n    reset();\n    previousSeed = seed;\n  }\n}\n\nfunction shuffle() {\n  if (!alphabet) {\n    setCharacters(ORIGINAL);\n  }\n\n  var sourceArray = alphabet.split('');\n  var targetArray = [];\n  var r = randomFromSeed.nextValue();\n  var characterIndex;\n\n  while (sourceArray.length > 0) {\n    r = randomFromSeed.nextValue();\n    characterIndex = Math.floor(r * sourceArray.length);\n    targetArray.push(sourceArray.splice(characterIndex, 1)[0]);\n  }\n\n  return targetArray.join('');\n}\n\nfunction getShuffled() {\n  if (shuffled) {\n    return shuffled;\n  }\n\n  shuffled = shuffle();\n  return shuffled;\n}\n/**\r\n * lookup shuffled letter\r\n * @param index\r\n * @returns {string}\r\n */\n\n\nfunction lookup(index) {\n  var alphabetShuffled = getShuffled();\n  return alphabetShuffled[index];\n}\n\nfunction get() {\n  return alphabet || ORIGINAL;\n}\n\nmodule.exports = {\n  get: get,\n  characters: characters,\n  seed: setSeed,\n  lookup: lookup,\n  shuffled: getShuffled\n};","map":{"version":3,"sources":["A:/trello_clone/trello-1/node_modules/shortid/lib/alphabet.js"],"names":["randomFromSeed","require","ORIGINAL","alphabet","previousSeed","shuffled","reset","setCharacters","_alphabet_","length","Error","unique","split","filter","item","ind","arr","lastIndexOf","join","characters","setSeed","seed","shuffle","sourceArray","targetArray","r","nextValue","characterIndex","Math","floor","push","splice","getShuffled","lookup","index","alphabetShuffled","get","module","exports"],"mappings":"AAAA;;AAEA,IAAIA,cAAc,GAAGC,OAAO,CAAC,2BAAD,CAA5B;;AAEA,IAAIC,QAAQ,GAAG,kEAAf;AACA,IAAIC,QAAJ;AACA,IAAIC,YAAJ;AAEA,IAAIC,QAAJ;;AAEA,SAASC,KAAT,GAAiB;AACbD,EAAAA,QAAQ,GAAG,KAAX;AACH;;AAED,SAASE,aAAT,CAAuBC,UAAvB,EAAmC;AAC/B,MAAI,CAACA,UAAL,EAAiB;AACb,QAAIL,QAAQ,KAAKD,QAAjB,EAA2B;AACvBC,MAAAA,QAAQ,GAAGD,QAAX;AACAI,MAAAA,KAAK;AACR;;AACD;AACH;;AAED,MAAIE,UAAU,KAAKL,QAAnB,EAA6B;AACzB;AACH;;AAED,MAAIK,UAAU,CAACC,MAAX,KAAsBP,QAAQ,CAACO,MAAnC,EAA2C;AACvC,UAAM,IAAIC,KAAJ,CAAU,yCAAyCR,QAAQ,CAACO,MAAlD,GAA2D,oCAA3D,GAAkGD,UAAU,CAACC,MAA7G,GAAsH,eAAtH,GAAwID,UAAlJ,CAAN;AACH;;AAED,MAAIG,MAAM,GAAGH,UAAU,CAACI,KAAX,CAAiB,EAAjB,EAAqBC,MAArB,CAA4B,UAASC,IAAT,EAAeC,GAAf,EAAoBC,GAApB,EAAwB;AAC9D,WAAOD,GAAG,KAAKC,GAAG,CAACC,WAAJ,CAAgBH,IAAhB,CAAf;AACF,GAFY,CAAb;;AAIA,MAAIH,MAAM,CAACF,MAAX,EAAmB;AACf,UAAM,IAAIC,KAAJ,CAAU,yCAAyCR,QAAQ,CAACO,MAAlD,GAA2D,wDAA3D,GAAsHE,MAAM,CAACO,IAAP,CAAY,IAAZ,CAAhI,CAAN;AACH;;AAEDf,EAAAA,QAAQ,GAAGK,UAAX;AACAF,EAAAA,KAAK;AACR;;AAED,SAASa,UAAT,CAAoBX,UAApB,EAAgC;AAC5BD,EAAAA,aAAa,CAACC,UAAD,CAAb;AACA,SAAOL,QAAP;AACH;;AAED,SAASiB,OAAT,CAAiBC,IAAjB,EAAuB;AACnBrB,EAAAA,cAAc,CAACqB,IAAf,CAAoBA,IAApB;;AACA,MAAIjB,YAAY,KAAKiB,IAArB,EAA2B;AACvBf,IAAAA,KAAK;AACLF,IAAAA,YAAY,GAAGiB,IAAf;AACH;AACJ;;AAED,SAASC,OAAT,GAAmB;AACf,MAAI,CAACnB,QAAL,EAAe;AACXI,IAAAA,aAAa,CAACL,QAAD,CAAb;AACH;;AAED,MAAIqB,WAAW,GAAGpB,QAAQ,CAACS,KAAT,CAAe,EAAf,CAAlB;AACA,MAAIY,WAAW,GAAG,EAAlB;AACA,MAAIC,CAAC,GAAGzB,cAAc,CAAC0B,SAAf,EAAR;AACA,MAAIC,cAAJ;;AAEA,SAAOJ,WAAW,CAACd,MAAZ,GAAqB,CAA5B,EAA+B;AAC3BgB,IAAAA,CAAC,GAAGzB,cAAc,CAAC0B,SAAf,EAAJ;AACAC,IAAAA,cAAc,GAAGC,IAAI,CAACC,KAAL,CAAWJ,CAAC,GAAGF,WAAW,CAACd,MAA3B,CAAjB;AACAe,IAAAA,WAAW,CAACM,IAAZ,CAAiBP,WAAW,CAACQ,MAAZ,CAAmBJ,cAAnB,EAAmC,CAAnC,EAAsC,CAAtC,CAAjB;AACH;;AACD,SAAOH,WAAW,CAACN,IAAZ,CAAiB,EAAjB,CAAP;AACH;;AAED,SAASc,WAAT,GAAuB;AACnB,MAAI3B,QAAJ,EAAc;AACV,WAAOA,QAAP;AACH;;AACDA,EAAAA,QAAQ,GAAGiB,OAAO,EAAlB;AACA,SAAOjB,QAAP;AACH;AAED;AACA;AACA;AACA;AACA;;;AACA,SAAS4B,MAAT,CAAgBC,KAAhB,EAAuB;AACnB,MAAIC,gBAAgB,GAAGH,WAAW,EAAlC;AACA,SAAOG,gBAAgB,CAACD,KAAD,CAAvB;AACH;;AAED,SAASE,GAAT,GAAgB;AACd,SAAOjC,QAAQ,IAAID,QAAnB;AACD;;AAEDmC,MAAM,CAACC,OAAP,GAAiB;AACbF,EAAAA,GAAG,EAAEA,GADQ;AAEbjB,EAAAA,UAAU,EAAEA,UAFC;AAGbE,EAAAA,IAAI,EAAED,OAHO;AAIba,EAAAA,MAAM,EAAEA,MAJK;AAKb5B,EAAAA,QAAQ,EAAE2B;AALG,CAAjB","sourcesContent":["'use strict';\r\n\r\nvar randomFromSeed = require('./random/random-from-seed');\r\n\r\nvar ORIGINAL = '0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_-';\r\nvar alphabet;\r\nvar previousSeed;\r\n\r\nvar shuffled;\r\n\r\nfunction reset() {\r\n    shuffled = false;\r\n}\r\n\r\nfunction setCharacters(_alphabet_) {\r\n    if (!_alphabet_) {\r\n        if (alphabet !== ORIGINAL) {\r\n            alphabet = ORIGINAL;\r\n            reset();\r\n        }\r\n        return;\r\n    }\r\n\r\n    if (_alphabet_ === alphabet) {\r\n        return;\r\n    }\r\n\r\n    if (_alphabet_.length !== ORIGINAL.length) {\r\n        throw new Error('Custom alphabet for shortid must be ' + ORIGINAL.length + ' unique characters. You submitted ' + _alphabet_.length + ' characters: ' + _alphabet_);\r\n    }\r\n\r\n    var unique = _alphabet_.split('').filter(function(item, ind, arr){\r\n       return ind !== arr.lastIndexOf(item);\r\n    });\r\n\r\n    if (unique.length) {\r\n        throw new Error('Custom alphabet for shortid must be ' + ORIGINAL.length + ' unique characters. These characters were not unique: ' + unique.join(', '));\r\n    }\r\n\r\n    alphabet = _alphabet_;\r\n    reset();\r\n}\r\n\r\nfunction characters(_alphabet_) {\r\n    setCharacters(_alphabet_);\r\n    return alphabet;\r\n}\r\n\r\nfunction setSeed(seed) {\r\n    randomFromSeed.seed(seed);\r\n    if (previousSeed !== seed) {\r\n        reset();\r\n        previousSeed = seed;\r\n    }\r\n}\r\n\r\nfunction shuffle() {\r\n    if (!alphabet) {\r\n        setCharacters(ORIGINAL);\r\n    }\r\n\r\n    var sourceArray = alphabet.split('');\r\n    var targetArray = [];\r\n    var r = randomFromSeed.nextValue();\r\n    var characterIndex;\r\n\r\n    while (sourceArray.length > 0) {\r\n        r = randomFromSeed.nextValue();\r\n        characterIndex = Math.floor(r * sourceArray.length);\r\n        targetArray.push(sourceArray.splice(characterIndex, 1)[0]);\r\n    }\r\n    return targetArray.join('');\r\n}\r\n\r\nfunction getShuffled() {\r\n    if (shuffled) {\r\n        return shuffled;\r\n    }\r\n    shuffled = shuffle();\r\n    return shuffled;\r\n}\r\n\r\n/**\r\n * lookup shuffled letter\r\n * @param index\r\n * @returns {string}\r\n */\r\nfunction lookup(index) {\r\n    var alphabetShuffled = getShuffled();\r\n    return alphabetShuffled[index];\r\n}\r\n\r\nfunction get () {\r\n  return alphabet || ORIGINAL;\r\n}\r\n\r\nmodule.exports = {\r\n    get: get,\r\n    characters: characters,\r\n    seed: setSeed,\r\n    lookup: lookup,\r\n    shuffled: getShuffled\r\n};\r\n"]},"metadata":{},"sourceType":"script"}